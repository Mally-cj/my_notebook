## 实验四 组合逻辑电路的VHDL描述
### 一、实验目的
1、掌握组合逻辑电路的设计方法。
2、掌握组合逻辑电路的静态测试方法。
3、熟悉FPGA设计的过程，比较原理图输入和文本输入的优劣。
### 二、实验仪器
    PC机一台　QuartusII　软件
### 三、实验内容
1、用VHDL语言设计一个四舍五入判别电路，其输入为8421BCD码，要求当输入大于或等于５时，判别电路输出为１，反之为０。
2、用VHDL语言设计四个开关控制一盏灯的逻辑电路，要求改变任意开关的状态能够引起灯亮灭状态的改变。（即任一开关的合断改变原来灯亮灭的状态，参考电路原理图如图4.2所示。）


```vhdl
LIBRARY IEEE;
USE IEEE.STD_LOGIC_1164.ALL;
ENTITY exp4b IS
PORT (K0,K1,K2,K3 : IN STD_LOGIC;
		result : OUT STD_LOGIC);
END ENTITY exp4b ;
ARCHITECTURE ONE OF exp4b IS
	SIGNAL ABCD : STD_LOGIC_VECTOR(3 DOWNTO 0);
	BEGIN 
	ABCD <= K3 & K2 & K1 & K0;
	PROCESS(ABCD)
		BEGIN
			CASE ABCD IS
				WHEN "0010" => result <= '1';
				WHEN "0001" => result <= '1';
				WHEN "0100" => result <= '1';
				WHEN "0111" => result <= '1';
				WHEN "1101" => result <= '1';
				WHEN "1110" => result <= '1';
				WHEN "1000" => result <= '1';
				WHEN "1011" => result <= '1';
				WHEN OTHERS => result <= '0';
				END CASE;
	END PROCESS;
END ARCHITECTURE ONE;
```



仿真图

![mark](http://mally.oss-cn-qingdao.aliyuncs.com/PicGo上传的图片/20200515/073637578.png)



3、用VHDL语言设计一个优先排队电路，其中：A=1，最高优先级；B=1，次高优先级；C=1，  最低优先级。要求输出端最多只能有一端为“１”，即只能是优先级较高的输入端所对应的输出端为“１”。

```
LIBRARY IEEE;
USE IEEE.STD_LOGIC_1164.ALL;
ENTITY exp4c IS
PORT (A, B, C : IN STD_LOGIC;
		Q : OUT STD_LOGIC_VECTOR(2 DOWNTO 0) );
END ENTITY exp4c;

ARCHITECTURE ONE OF exp4c IS
	BEGIN 
	PROCESS(A,B,C)
		BEGIN
			IF(A='1')
			THEN Q <= "100";
			
			ELSIF (B='1')
			THEN Q <= "010";
			
			ELSIF (C='1')
			THEN Q <= "001";
			END IF;
	
	END PROCESS;
END ARCHITECTURE ONE;

```





```vhdl
LIBRARY IEEE;
USE IEEE.STD_LOGIC_1164.ALL;
ENTITY exp4c IS
PORT (A, B, C : IN STD_LOGIC;
		QA,QB,QC : OUT STD_LOGIC);
END ENTITY exp4c;

ARCHITECTURE ONE OF exp4c IS
	BEGIN 
	PROCESS(A,B,C)
		BEGIN
			
			QA <='0';
			QB <='0';
			QC <='0';
			
			IF(A='1')
			THEN QA<='1' ;
			
			ELSIF (B='1')
			THEN QB <= '1';
			
			ELSIF (C='1')
			THEN QC <= '1';
			END IF;
	
	END PROCESS;
END ARCHITECTURE ONE;

```



![mark](http://mally.oss-cn-qingdao.aliyuncs.com/PicGo上传的图片/20200515/082131999.png)