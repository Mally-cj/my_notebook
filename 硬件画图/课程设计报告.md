## 简易数控直流电压源

##  摘要

本文设计的是量程为在 0~9.9V 可调的数控直流电压源。

主要由直流稳压电源电路和LED显示电路和 直流电压步进电路3部分组成

直流稳压电源通过变压、整流、滤波、稳压四部分单元电路从50HZ的220 的家庭用电得到6.4V和5V的直流电压。

LED显示电路由双按键，计数器和BCD数码管组成，能实现加减按键控制数码管显示数字的变化。

直流电压步进电路利用ADC转换器将稳压源的输出电压12.8V分成256份，再利用计数器的数据实现每次步进0.1V.

关键词：整流，稳压，可调，AD转换，LED显示



## 1  设计任务要求

1. 交流变压、整流电路设计   

2. 直流稳压电路设计  

3. 直流电压步进调整电路设计   

4. 二位LED输出电压显示电路设计 

5. 研究提高电源工作效率的方法





## 2  设计方案及论证

### 2.1  任务分析

（含文字说明及理论计算，应明确各项功能和指标要求的含义及理论实现方法。）

要求1：交流变压、整流电路设计

分析：通过变压器将220v交流电进行降压，再通过单相桥式整流电路进项整流，其后接入一个小电容进行滤波。即将交流电压变换为单向脉冲电压， 直流脉动电压经过滤波电路变成平滑的、脉动小的直流电压，即滤除交流成分，保留直流成分，滤波电路一般有电容组成，其作用是把脉动直流电压中的大部分纹波加以滤除，以得到较平滑的直流电压。

 

要求2：直流稳压电路设计

分析：直流可变稳压电源一般由整流变压器，整流电路，滤波器，稳压环节组成

 

要求3：直流电压步进调整电路设计  

分析：在稳压直流电路后接滑动变阻器，选取适当的参数，实现0.1V的步进；

或者使用DA转换器，把稳定的直流电压作为DA的标定电压，计数器作为DA的输入，通过让计数器的值改变，来实现DAC的步进。

 

要求4：二位LED输出电压显示电路设计 

分析:用AD转换器，把电压值转换为数字量，用逻辑门连入数码管 。或者让将预设电压值直接用逻辑门连入数码管。

 

要求5：研究提高电源工作效率的方法

分析：两段式结构是实现同步整流电路高效工作的方法之一，它采用接近0.5的固定时间比率，并由前段的转换器来进行输出电压控制。它一反“两段式结构 将导致效率下降”这一传统思维模式，在低电压大电流的场合非常效。可将整个转换器电路进 行并联，也可像电流倍增器那样部分采用并联结构。

.

### 2.2  方案比较

#### 2.2.1 整流电路

该电路主要利用二极管的单向导电性组成整流电路，将交流电压变换为单方向脉动电压。作用：将正弦波交流电转化为全波直流电。实现方法主要有以下三种。

###### 方案一：单相半波整流电路

![mark](http://mally.oss-cn-qingdao.aliyuncs.com/PicGo上传的图片/20200712/152447522.png)



**原理：**在变压器次级电压 U2 为正的半个周期内（如图 1 （ a ）中所示上正下负），二极管导通，在 RL 上得到一个极性为上正下负的电压；而在 U2 为负的半个周期内，二极管反向偏置，电流基本上等于 0 。所以在负载上的电压 U2 的极性是单方向的（如图 1 （ b ）所示）。正半周内 Uo=U2 ， Ud=0 ；负半周内 Uo=0 。 Ud=U2 。由此可见，由于二极管的单向导电作用，把变压器次级的交流电压变换为单向脉动电压，达到了整流的目的。

**优点：**结构简单，使用的元件少

**缺点：**输出电压脉动大，直流成分比较低；变压器有半个周期不导电，利用率低；变压器含有直流部分，容易饱和。只能用于输出功率较小，负载要求不高的场合。



###### 方案二：单相全波整流

![mark](http://mally.oss-cn-qingdao.aliyuncs.com/PicGo上传的图片/20200712/153242290.png)

**原理：**全波是利用具有中心抽头的变压器与两个二极管配合，使两个二极管在正、负半周轮流导电，而且二者流过 $R_L$的电流保持同一方向，从而使正、负半周在负载上均有输出电压。电路如图 2 （ a ）所示。正半周内 $D_1$导通， $D_2$ 截止，在负载 $R_L$ 上得到的电压极性为上正下负；负半周内， $D_1$截止， $D_2$ 导通，在负载上得到的电压仍为上正下负，与正半周相同。

**优点：**全波整流波形如上图 2 （ b ）。全波整流的输出电压时半波整流的两倍，输出波形的脉动成分比半波整流时有所下降。

**缺点：**全波整流电路在负半周时二极管承受的反向电压较高，其最大值等于 $2\sqrt{2}U_2$，且电路中每个线圈只有一半时间通过电流，所以变压器利用率不高。



###### 方案三：单相桥式整流:ballot_box_with_check:

<img src="http://mally.oss-cn-qingdao.aliyuncs.com/PicGo上传的图片/20200712/183224357.png" alt="mark" style="zoom:67%;" />





**原理**:单相桥式整流电路如图 所示。由图可见， $U_2$正半周时 D1、 D4 导通， D3,D2 截止，在负载电阻 RL 上形成上正下负的脉动电压；而在 U2 负半周时， D2 、 D3 导通， D1 、 D4 截止，在 $R_L$ 上仍形成上正下负的脉动电压。如果忽略二极管内阻，有 Uo ≈ U2 。桥式整流电路波形如图 3 （ b ）所示。正负半周均有电流流过负载，而且电路方向是一致的，因而输出电压的直流成分提高，脉动成分降低。单相桥式整流电路主要参数：输出直流电压 $U_{O(AV)}$, 脉动系数 S ，二极管正向平均电流$I_{D(AV)}$, 二极管最大反向峰值电压 $U_{RM}$。

**特点：**

1. $U_{Rmax}=\sqrt{2}U_2$,   $I_{D(AC)}=\frac{I_{L(AV)}}{2}\approx \frac{0.45U_2}{R_L}$

2. 考虑到电网电压的波动范围为±10％，二极管的极限参数应满足： 
   $$
   \begin{cases}
   I_F>1.1*\frac{0.45U_2}{R_L} \\
   U_R>1.1\sqrt{2}U_2
   \end{cases}
   $$
   

   

   
   
   

#### 2.2.2滤波电路

该电路实现降低输出电压的脉动成分，尽量保留直流成分的功能。利用电容或电感的滤波作用达到降低交流保留直流成分的目的。



###### 方案一：电感滤波

![mark](http://mally.oss-cn-qingdao.aliyuncs.com/PicGo上传的图片/20200712/160829069.png)



**原理**：上图为 单相桥式整流电感滤波电路，利用电感不能突变的特性，使输出电流波形平滑，从而使输出电压波形也平滑，提高直流分量，减小输出纹波。



###### 方案二：复式滤波

![mark](http://mally.oss-cn-qingdao.aliyuncs.com/PicGo上传的图片/20200712/161315396.png)

**原理**：复式滤波电路由电阻和电容，电阻和电感或电感和电容组合成的滤波。几种常见的复式滤波电路如上图所示。

(a)所示为 ![img](file:///C:\Users\53055\AppData\Local\Temp\ksohtml10296\wps9.jpg)型滤波电路，这种电路的缺点是在 R 上有压降，因而需要提高变压器次级电压；同时，整流管的冲击电流仍然较大，这种电路知识和小电流负载的场合。

(b) 所示为 ![img](file:///C:\Users\53055\AppData\Local\Temp\ksohtml10296\wps10.jpg)型滤波电路，这种滤波电路的优点是：简单经济，能兼起限制浪涌电流的作用，滤波效果较好。其缺点是带负载能力差，滤波电路有功率损耗。它适合负载电流小，纹波系数小的场合。

(c)所示为 ![img](file:///C:\Users\53055\AppData\Local\Temp\ksohtml10296\wps11.jpg)倒 L 型滤波电路，整流后输出的脉动直流经过电感，交流成分被削弱，再经过 C 滤波后，可在负载上获得更加平滑的直流电压。这种滤波电路的优点是：滤波效果好，几乎没有直流损耗。其缺点是低频时电感体积大，成本高。



###### 方案三：电容滤波:ballot_box_with_check:

![mark](http://mally.oss-cn-qingdao.aliyuncs.com/PicGo上传的图片/20200712/155437122.png)



**原理**:上图 为单相桥式整流电容滤波电路。利用电容的储能特性，使波形平滑，提高直流分量，减小输出波纹，

**优点**：简单易行，UO（AV）高，C 足够大时交流分量较小。**缺点**：不适于大电流负载。

**电容滤波的特点：**

1. 加入滤波电容后，输出电压的直流成分提高，脉动成分减小。

2. 电容滤波放电时间常数 $\tau=(R_LC)$ 越大，放电过程越慢，输出直流电压越高，纹波越小，效果越好,但是导通角$\theta$会越小，使得越难以选择二极管。为了获得较好的滤波效果，一般选择电容值满足$R_LC \geq(3$ ~ $5)\frac{T}{2}$ ，此时，输出电压的平均值$U_o=1.2U_2$ ，电容的耐压值应该大于$1.1\sqrt{2}U_2$

3. 电容滤波电路的输出电压随输出电流的增大而减小，所以电容滤波适合于负载电流变化不大的场合。

   



#### 2.2.3 稳压电路

###### 方案一： 基本串联型稳压电源

也就是具有放大环节的串联型稳压电源

![mark](http://mally.oss-cn-qingdao.aliyuncs.com/PicGo上传的图片/20200712/164258003.png)

**稳压原理**:	$若由于某种原因使U_O增大，则U_O↑→ U_N↑→ U_B↓→ U_O↓$

**特点：**

* $$
  \frac{R_1+R_2+R_3}{R_2+R_3}U_2\leq U_O \leq \frac{R_1+R_2+R_3}{R_3}U_2, \,\,U_2是稳压二极管提供的基准电压
  $$

  

* $$
  I_{Emax}＝I_{R1}＋I_{Lmax}≈ I_{Lmax}< I_{CM}\\
  U_{CEmax}＝U_{Imax}－ U_{Omin} < U_{(BR)CEO}\\  
  P_{Tmax}＝ I_{Emax} U_{CEmax} < P_{CM}\\
  $$

  

**落选原因：**找不到合适的稳压二极管提供要求的基准电压, 并且该电路只是理论电路，并不实用

 

###### 方案二：固定式三端集成稳压器:ballot_box_with_check:

<img src="http://mally.oss-cn-qingdao.aliyuncs.com/PicGo上传的图片/20200712/172606568.png" alt="mark" style="zoom: 67%;" />

> 常见的有 CW78（LM78）系列三端固定式正电压输出集成稳压器； CW79 （ LM79 ）系列三端固定式负电压输出集成稳压器。三端是指稳压电路只有输入、输出和接地三个接地端子。型号中最后两位数字表示输出电压的稳定值，有 5V 、 6V 、 9V 、 15V 、 18V 和 24V 。稳压器使用时，要求输入电压 UI 与输出电压 Uo 的电压差 UI - Uo ≥ 2V 。稳压器的静态电流 Io = 8mA 。当 Uo = 5 ～ 18V 时， UI 的最大值 UImax= 35V ；当 Uo=18 ～ 24V 时， UI 的最大值 UImax = 40V 。 





###### 方案三：可调式三端集成稳压器:ballot_box_with_check:



==注意==：由于multisim的ADC转换芯片遇到变化微小且变化的频率高时，multisim仿真会失败。所以可调式三端集成稳压器不适合的稳压源输出电压不适合加在ADC转换器上。

**原理**：在输出端加一个电位器后，通过调节电位器的电阻变化使输出的电压能够在0-15V之间变化，从而能通过调节滑动变阻器得到6.4V







#### 2.2.4 LED显示电路

###### 方案一：计数器控制LED灯显示值:ballot_box_with_check:

按键值控制计数器的数字加减，计数器的值连入LED灯显示和DAC的输入。即如下



$$
按键触发一个上升沿信号  \Rightarrow 计数器加1 \,\, \Rightarrow
\begin{cases}
 BCD数码管显示数字  \\
DAC转换器\Rightarrow 输出模拟电压
\end{cases}
$$


###### 方案二：AD转换输出电压控制LED灯显示值

按键值控制计数器加减，计数器控制DA转换器输入，得到输出电压，再利用AD转换把电压转为数字量，用逻辑门连入LED灯。
$$
按键触发一个上升沿信号  \Rightarrow 计数器加1 \,\, 

 \Rightarrow DA转换得到步进电压 \Rightarrow 输出模拟电压\Rightarrow AD转换后输入LED灯
$$




电路设计原理：

1. 按键按下给计数器一个上升沿信号，如果是S1按下，就是加1，如果是S2按下就是减1.
2. 选用2个十进制计数器，输出的数分别连到两个BCD数码管上。
3. 模拟电压的输出数值 $U=VDC1转换的模拟电压+VDC2转换的模拟电压*10 $
4. 2个十进制计数器上的数乘上2，输入到DAC中，使得每按一次按键，VDC上的总数加上（或减去2），12.8V/256*2=0.1V,由此实现精度为0.1
5. 电压跟随器之后电路的输出阻抗无限小，提升带载能力。



#### 2.2.5 直流电压步进电路

###### 方案一：稳压电路后加选择电路

在稳压直流电路后接滑动变阻器，选取适当的参数，实现0.1V的步进；



###### 方案二：DA转换实现步进

使用DA转换器，把稳定的直流电压作为DA的标定电压，计数器作为DA的输入，通过让计数器的值改变，来实现DAC的步进。



### 2.3  系统结构设计

选择**变压器降压+单相桥式整流电路+电容滤波电路+固定式和可调式三端集成稳压电路结合使用+计数器控制LED灯显示值+DA转换实现步进**

#### 2.3.1 选择理由

1. 整流电路选择单相桥式整流电路的原因：220v交流电通过变压器降压，再通过桥式整流电路进行整流，桥式整流电路解决了单相整流电路存在的缺点，用一次级线圈的变压器，达到了全波整流的目的。

2. 滤波电路选择电容滤波电路的原因：在小功率电源中电容滤波最为常见，满足本设计要求。

   

3.  稳压电路选用  固定式和可调式LM78系列三端集成稳压电路结合使用的原因：   LM78系列三端稳压 IC 来组成稳压电路所需的外围元件极少，电路内部还有过流、过热及调整管的保护电路，使用起来可靠、方便，而且价格便宜；而使用固定式和可调式相结合的原因是器件供电要求需要。

4. LED显示电路选用计数器控制LED灯显示值的原因：用另一种方式再经DA转换，容易造成误差，且电路更复杂。

5. 步进电路选用 DA转换的原因： 相比于用选择电路，精度更容易把握。



#### 2.3.2 完整的系统原理

按键按下给计数器一个上升沿信号，如果是key1按下，计数器的值加1，如果是key2按下则减1.

选用2个十进制的计数器74HC192D，输出的数分别连到两个BCD数码管上作为显示电路。

2个十进制计数器上的数乘上4，输入到DAC中，使得每按一次按键，VDC上的总数加上（或减去4），6.4V/256*4=0.1V,由此实现精度为0.1.

电压跟随器之后电路的输出阻抗无限小，提升带载

稳压电路提供6.4V,5V,15V直流电压分别做VDC的基准电压，计数器的电源，放大器的供电电源。

![image-20200716231810344](C:%5CUsers%5C53055%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200716231810344.png)

#### 2.3.3结构框图

![mark](http://mally.oss-cn-qingdao.aliyuncs.com/PicGo上传的图片/20200716/221943632.jpg)







### 2.4  具体电路设计

#### 2.4.1 降压电路

![image-20200716232124032](C:%5CUsers%5C53055%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200716232124032.png)



使用变压器电路

**原理**：主副线圈的匝数比等于其电压比的平方，主副线圈电感比等于匝数比的平方。

**参数计算**：因为选用的 LM78 要求输入电压 UI 与输出电压 Uo 的电压差 UI - Uo ≥ 2V 。

需要得到15V的电压，因此可以令变压器为侧边输出17V，匝数比约等于13.

#### 2.4.2 整流电路

![image-20200716232333339](C:%5CUsers%5C53055%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200716232333339.png)

**参数计算**：考虑电网电压波动10%，电压最高达到17* 1.1*1.414=16.5V=26.4418V，因此，可以选择最大整流电流1A，反向工作峰值电压为50V的整流二极管。

#### 2.4.3 滤波电路

![image-20200716232823767](C:%5CUsers%5C53055%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200716232823767.png)

**参数计算：**

因为 $R_LC \geq(3$ ~ $5)\frac{T}{2}$，故取5倍工频半周期

又因为$f=50Hz，T=0.02s$

所以 $RC=5 X T/2=5 *0.02/2=0.05$

电容器承受的最高电压:

$∪_{max}$=1.414 x17*1.1V=26.4418V

因此可以选用  C1选用4.3mF/30V的电容器，用于滤波;



#### 2.4.4 稳压电路

![image-20200716233019344](C:%5CUsers%5C53055%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200716233019344.png)

**电路设计**：

C4,C8是为了消除自激振荡，C5,C9是为了减少高频噪音，二极管D2,D3是为了保护稳压芯片。

固定电压5v，15v作为电路内部的供电电源，增加滑动变阻器，是为了得到6.4v，给AD转换器提供基准电压。

#### 2.4.5 LED显示电路

![image-20200716233804502](C:%5CUsers%5C53055%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200716233804502.png)

原理：74HC192是十进制的计数器，接4位LED灯显示正好，简化电路，而选用74hc192的原因是价格便宜的可加减计数器只找他74hc192 。

#### 2.4.6 直流电压步进电路

![image-20200717000251506](C:%5CUsers%5C53055%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200717000251506.png)



**参数考虑**：

1. 记   u1为计数器1的数，u2为计数器2的数，a1为VDC1读取的数据量，a2为VDC2读取的数据量，u1为VDC1输出的模拟量，u2为VDC2输出的模拟量，u为最终输出模拟量。

$$
a1=u1 * 4  ,a2=u2 *4,u=a1+a2*10\\
因此u=a1+a2*10=(u1+u2*10)*4
$$

​     因为选用的DAC为8位，故而分度值为 $6.4/2^8=0.025V$, 由上式得 计数值加1，u增加0.1V。

​	 选择6.4V作为供电电压，是考虑到选择实际器件时，价格性能各方面合适的时DAC0832,而它的基准电压必须再（-10v，10v）范围内。

2. 利用同相求和运算电路

![image-20200712214256643](C:%5CUsers%5C53055%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200712214256643.png)



$$
U_o=(1+\frac{R_f}{R})(\frac{R_2//R_3//R_4}{R_1+R_2//R_3//R_4}u_{11}+\frac{R_1//R_3//R_4}{R_2+R_1//R_3//R_4}U_{12}+\frac{R_1//R_2//R_4}{R_3+R_1//R_2//R_4}u_{13})
$$
​	代入公式计算得. R1取900Ω，R2取100Ω，R取100Ω，Rf取1900Ω，R4取100Ω.



3. 电压跟随器：将输出全部作为反馈加到反向端，加上电压跟随器之后电路的输出阻抗无限小，带载能力提升。







## 3  电路仿真测试及结论分析

### 3.1  电路仿真测试流程

（详细说明电路仿真与调试的方法和过程，如各单元电路的仿真和调试顺序等。给出完整的电路仿真图）

####  3.1.1 测试稳压电路是否能稳定输出6.4V，5v，15v电压

![image-20200716235701491](C:%5CUsers%5C53055%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200716235701491.png)

#### 3.1.2 测试步进电路

![image-20200716235849892](C:%5CUsers%5C53055%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200716235849892.png)

![image-20200716235912536](C:%5CUsers%5C53055%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200716235912536.png)

![image-20200716235935057](C:%5CUsers%5C53055%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200716235935057.png)

### 3.2  数据分析和结论

（对系统测试数据结果进行统计和分析，如实测数据与理论计算预期的差异分析，包括对误差产生原因的分析，并就系统是否符合设计任务要求给出结论。）

**差异**：步进电压不能精确到0.1V，因为难以精准输出6.4V，

**误差产生原因**：电路设计为计数器的值*4输入AD转换器，则基准电压的误差又被放大了四倍。但是误差范围依然在可允许范围内。



### 3.3 遇到的问题与解决方法

（在电路仿真和调试过程中遇到的问题、产生原因、解决方法。）

**遇到问题**：如果把整个电路连接起来，即使用稳压电源提供电源，仿真不能很持久。

 **产生原因**：由于multisim的ADC转换芯片遇到变化微小且变化的频率高时，multisim仿真会失败。所以可调式三端集成稳压器不适合的稳压源输出电压不适合加在ADC转换器上。

**解决方法**：长时间调试，只能分开，比如要调到5v，那么就要按40次，则这么长的时间仿真很难持续，方法是分开测试，用仿真软件里的自带电压供电，要不然就是慢一点操作，让它变化不要那么快，那么仿真的时间能够久一些。

## 4  总结

### 4.1  本人所做工作

（本人在小组中的分工和实际完成的工作。）

 

 计划分工

李进：

1. 设计步进电路模块
2. 均分元器件的原理图库和元器件图；
3. 画步进电路和LED显示的原理图



郭嘉：

1. 做稳压直流电源模块
2. 均分元器件的原理图库和元器件图库；
3. 画稳压电路的原理图



陈洁：

1. 做LED显示模块，帮忙仿真测试，整合报告，做PPT

2. 均分元器件的原理图库和元器件图库；

3. 画PCB板子

   

实际分工

除了做计划内的事情外，还完成了如下

李进： 修改报告

郭嘉：调整报告字体格式，改善步进电路

陈洁：修改电源电路

### 4.2  收获与体会



## 5  参考文献

 [1] 《实用电子电路手册（数字电路分册）》 . 北京 : 高等教育出版社 ,1991

[2] 郁汉琪 . 数字电子技术实验及课题设计 .  北京 : 高等教育出版社 ,1995

[3] 阎石. 数字电子技术基础 （第六版） .  北京 : 高等教育出版社 ,2005

[4] 童诗白，华成英 .模拟电子技术基础（第五版）. 北京：高等教育出版社，2015






