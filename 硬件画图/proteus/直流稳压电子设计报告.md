## 简易数控直流电压源

###  摘要

本文设计的是量程为在 0~9.9V 可调的数控直流电压源。

主要由直流稳压电源电路和LED显示电路和 直流电压步进电路3部分组成

直流稳压电源通过变压、整流、滤波、稳压四部分单元电路从50HZ的220 的家庭用电得到6.4V和5V的直流电压。

LED显示电路由双按键，计数器和BCD数码管组成，能实现加减按键控制数码管显示数字的变化。

直流电压步进电路利用ADC转换器将稳压源的输出电压12.8V分成256份，再利用计数器的数据实现每次步进0.1V.

关键词：整流，稳压，可调，AD转换，LED显示

### 完成情况

|      | 设计要求           | 完成情况     | 存在问题或其它说明       |
| ---- | ------------------ | ------------ | ------------------------ |
| 1    | 直流输出电压0-9.9V | 实现但有误差 | 实际范围为0.404V~ 9.905V |
| 2    | 最小步进电压0.1V   | 实现但又误差 | 实际步进值为0.1015V      |
| 3    | 电路原理图         | 已完成       | 使用立创EDA              |
| 4    | PCB原理图          | 已完成       | 使用立创EDA              |



### 1  设计任务要求

1. 交流变压、整流电路设计   

2. 直流稳压电路设计  

3. 直流电压步进调整电路设计   

4. 二位LED输出电压显示电路设计 

5. 研究提高电源工作效率的方法

设计要求及实现情况

|      | 功能要求                           | 实现性能                                |
| ---- | ---------------------------------- | --------------------------------------- |
| 1    | 使用电源为正弦交流电源 $220V/50Hz$ | 使用该电源的到12.8V和5V直流电源         |
| 2    | 直流输出电压：0 — 9.9V             | 实现输出电压为0.004~9.904V,但不能实现0V |
| 3    | 最小步进电压：ΔV=0.1V              | 实现                                    |
| 4    | 额定输出电流：$I_O$=1A             | 满足                                    |
|      |                                    |                                         |



2  设计方案及论证

2.1  任务分析

（含文字说明及理论计算，应明确各项功能和指标要求的含义及理论实现方法。）

要求1：交流变压、整流电路设计

分析：通过变压器将220v交流电进行降压，再通过单相桥式整流电路进项整流，其后接入一个小电容进行滤波。即将交流电压变换为单向脉冲电压， 直流脉动电压经过滤波电路变成平滑的、脉动小的直流电压，即滤除交流成分，保留直流成分，滤波电路一般有电容组成，其作用是把脉动直流电压中的大部分纹波加以滤除，以得到较平滑的直流电压。

 

要求2：直流稳压电路设计

分析：通过串联型稳压电路，或者直接接入三端稳压模块来进行稳压，为后续电路提供稳定的电压。

 

要求3：直流电压步进调整电路设计  

分析：在稳压直流电路后接滑动变阻器，选取适当的参数，实现0.1V的步进；

或者使用DA转换器，把稳定的直流电压作为DA的标定电压，计数器作为DA的输入，通过让计数器的值改变，来实现DAC的步进。

 

要求4：二位LED输出电压显示电路设计 

分析:用AD转换器，把电压值转换为数字量，用逻辑门连入数码管 。或者让将预设电压值直接用逻辑门连入数码管。

 

要求5：研究提高电源工作效率的方法

分析：两段式结构是实现同步整流电路高效工作的方法之一，它采用接近0.5的固定时间比率，并由前段的转换器来进行输出电压控制。它一反“两段式结构 将导致效率下降”这一传统思维模式，在低电压大电流的场合非常效。可将整个转换器电路进 行并联，也可像电流倍增器那样部分采用并联结构。

.



### **分工**

李进：

1. 做步进电路模块
2. 均分元器件的原理图和元器件图；
3. 画步进电路和LED显示的原理图



郭嘉：

1. 做稳压直流电源模块
2. 均分元器件的原理图和元器件图；
3. 画稳压电路的原理图



陈洁：

1. 做LED显示模块，帮忙仿真测试，整合报告，做PPT

2. 均分元器件的原理图和元器件图；

3. 画PCB板子

   

   

   展示稿子

   1. 完成度介绍

   2. 功能展示

   3. 参数计算

   4. 原理说明

      

   
### 元器件清单


| 类型           | 描述            | RefDes              | 数量 | 备注         |
| -------------- | --------------- | ------------------- | ---- | ------------ |
| 10kΩ滑动变阻器 | RESISTOR        | RP1                 | 1    |              |
| 90Ω电阻        | RESISTOR        | R3                  | 1    |              |
| 900Ω电阻       | RESISTOR        | R4                  | 1    |              |
| 500Ω电阻       | RESISTOR        | R12                 | 1    |              |
| 100Ω电阻       | RESISTOR        | R6,R8               | 2    |              |
| 1kΩ电阻        | RESISTOR        | R7,R9,R10,R11,R1,R2 | 6    |              |
| 100nF电容      | CAP             | C1,C2               | 2    |              |
| 330nF电容      | CAP             | C3,C4               | 2    |              |
| 1000nF电容     | CAP             | R1                  | 2    |              |
| 变压器         | TS_VIRTUAL      | T1                  | 1    |              |
| 桥式整流电路   | MB02S           | D1,D2               | 2    |              |
| 按键           | KEY             | KEY1,KEY2           | 2    |              |
| 计数器         | 74HC192D        | U1,U2               | 2    |              |
| LED灯          | DCD_HEX_BLUE    | U3,U4               | 2    |              |
| DA转换器       | DAC0832LCN      | U5,U6               | 2    |              |
| 3556SM         | 3556SM          | U7                  | 1    | 用做同相加法 |
| NE5532DR       | NE5532DR        | U8                  | 1    | 跟随器       |
| LM7815         | LM7815          | U10                 | 1    |              |
| LM7805         | LM7805          | U11                 | 1    |              |
| 变压器         | 30W 220V转双18V | U9                  | 1    |              |

2.2  方案比较

### 直流稳压电源电路

**理论原理**

直流可变稳压电源一般由整流变压器，整流电路，滤波器，稳压环节和计数显示电路组成如下图 所示 。

<img src="http://mally.oss-cn-qingdao.aliyuncs.com/PicGo上传的图片/20200712/124421871.png" alt="mark" style="zoom:150%;" />

（1）  首先通过变压器将高压的交流电变为低压的交流电。

（2）  将交流电压变换为单向脉冲电压， 直流脉动电压经过滤波电路变成平滑的、脉动小的直流电压，即滤除交流成分，保留直流成分，滤波电路一般有电容组成，其作用是把脉动直流电压中的大部分纹波加以滤除，以得到较平滑的直流电压 。

（3）  稳压电路就是在交流电源电压波动和负载变动时使直流输出电压稳定 。

（4）  为了使电路实现过流，过压保护，我们用固定电压输出稳压器实现。由于我们要的输出电压在 为12.8V和5V ，因此我们选择 LM7815CT。

**原理图**

![image-20200712194237373](C:%5CUsers%5C53055%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200712194237373.png)







**参数计算**

1. **变压器参数选择**

   因为选用的 LM78 要求输入电压 UI 与输出电压 Uo 的电压差 UI - Uo ≥ 2V 。

   需要得到能用可调节式得到12.8V的电压，那就令其为得到固定输出15V.

   因此可以令变压器为侧边输出17V，匝数比约等于13.

2. **整流二极管参数选择**

   考虑电网电压波动10%，电压最高达到17* 1.1*1.414=16.5V=26.4418V,

   因此，可以选择最大整流电流1A，反向工作峰值电压为50V的整流二极管

3. **滤波电容的选择**

   因为 $R_LC \geq(3$ ~ $5)\frac{T}{2}$，故取5倍工频半周期

   又因为$f=50Hz，T=0.02s$

   所以 $RC=5 X T/2=5 *0.02/2=0.05$

   电容器承受的最高电压:

   $∪_{max}$=1.414 x17*1.1V=26.4418V

   因此可以选用  C1选用4.3mF/30V的电容器，用于滤波;

   



#### 降压电路

###### 变压器电路:ballot_box_with_check:

使用变压器电路，原理：主副线圈的匝数比等于其电压比的平方，主副线圈电感比等于匝数比的平方。

<img src="C:%5CUsers%5C53055%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200712150005324.png" alt="image-20200712150005324" style="zoom:200%;" />

#### 整流电路

该电路主要利用二极管的单向导电性组成整流电路，将交流电压变换为单方向脉动电压。作用：将正弦波交流电转化为全波直流电。实现方法主要有以下三种。

###### 方案一：单相半波整流电路

![mark](http://mally.oss-cn-qingdao.aliyuncs.com/PicGo上传的图片/20200712/152447522.png)



**原理：**在变压器次级电压 U2 为正的半个周期内（如图 1 （ a ）中所示上正下负），二极管导通，在 RL 上得到一个极性为上正下负的电压；而在 U2 为负的半个周期内，二极管反向偏置，电流基本上等于 0 。所以在负载上的电压 U2 的极性是单方向的（如图 1 （ b ）所示）。正半周内 Uo=U2 ， Ud=0 ；负半周内 Uo=0 。 Ud=U2 。由此可见，由于二极管的单向导电作用，把变压器次级的交流电压变换为单向脉动电压，达到了整流的目的。

**优点：**结构简单，使用的元件少

**缺点：**输出电压脉动大，直流成分比较低；变压器有半个周期不导电，利用率低；变压器含有直流部分，容易饱和。只能用于输出功率较小，负载要求不高的场合。





###### 方案二：单相全波整流

![mark](http://mally.oss-cn-qingdao.aliyuncs.com/PicGo上传的图片/20200712/153242290.png)

**原理：**全波是利用具有中心抽头的变压器与两个二极管配合，使两个二极管在正、负半周轮流导电，而且二者流过 $R_L$的电流保持同一方向，从而使正、负半周在负载上均有输出电压。电路如图 2 （ a ）所示。正半周内 $D_1$导通， $D_2$ 截止，在负载 $R_L$ 上得到的电压极性为上正下负；负半周内， $D_1$截止， $D_2$ 导通，在负载上得到的电压仍为上正下负，与正半周相同。

**优点：**全波整流波形如上图 2 （ b ）。全波整流的输出电压时半波整流的两倍，输出波形的脉动成分比半波整流时有所下降。

**缺点：**全波整流电路在负半周时二极管承受的反向电压较高，其最大值等于 $2\sqrt{2}U_2$，且电路中每个线圈只有一半时间通过电流，所以变压器利用率不高。



###### 方案三：单相桥式整流:ballot_box_with_check:

<img src="http://mally.oss-cn-qingdao.aliyuncs.com/PicGo上传的图片/20200712/183224357.png" alt="mark" style="zoom:67%;" />





**原理**:单相桥式整流电路如图 所示。由图可见， $U_2$正半周时 D1、 D4 导通， D3,D2 截止，在负载电阻 RL 上形成上正下负的脉动电压；而在 U2 负半周时， D2 、 D3 导通， D1 、 D4 截止，在 $R_L$ 上仍形成上正下负的脉动电压。如果忽略二极管内阻，有 Uo ≈ U2 。桥式整流电路波形如图 3 （ b ）所示。正负半周均有电流流过负载，而且电路方向是一致的，因而输出电压的直流成分提高，脉动成分降低。单相桥式整流电路主要参数：输出直流电压 $U_{O(AV)}$, 脉动系数 S ，二极管正向平均电流$I_{D(AV)}$, 二极管最大反向峰值电压 $U_{RM}$。

**选择理由**:桥式整流电路解决了单相整流电路存在的缺点，用一次级线圈的变压器，达到了全波整流的目的。因此选用方案三 单相桥式整流。

**特点：**

1. $U_{Rmax}=\sqrt{2}U_2$,   $I_{D(AC)}=\frac{I_{L(AV)}}{2}\approx \frac{0.45U_2}{R_L}$

2. 考虑到电网电压的波动范围为±10％，二极管的极限参数应满足： 
   $$
   \begin{cases}
   I_F>1.1*\frac{0.45U_2}{R_L} \\
   U_R>1.1\sqrt{2}U_2
   \end{cases}
   $$
   

   

   
2. 

#### 滤波电路

该电路实现降低输出电压的脉动成分，尽量保留直流成分的功能。利用电容或电感的滤波作用达到降低交流保留直流成分的目的。



###### 方案一：电感滤波

![mark](http://mally.oss-cn-qingdao.aliyuncs.com/PicGo上传的图片/20200712/160829069.png)



**原理**：上图为 单相桥式整流电感滤波电路，利用电感不能突变的特性，使输出电流波形平滑，从而使输出电压波形也平滑，提高直流分量，减小输出纹波。



###### 方案二：复式滤波

![mark](http://mally.oss-cn-qingdao.aliyuncs.com/PicGo上传的图片/20200712/161315396.png)

**原理**：复式滤波电路由电阻和电容，电阻和电感或电感和电容组合成的滤波。几种常见的复式滤波电路如上图所示。

(a)所示为 ![img](file:///C:\Users\53055\AppData\Local\Temp\ksohtml10296\wps9.jpg)型滤波电路，这种电路的缺点是在 R 上有压降，因而需要提高变压器次级电压；同时，整流管的冲击电流仍然较大，这种电路知识和小电流负载的场合。

(b) 所示为 ![img](file:///C:\Users\53055\AppData\Local\Temp\ksohtml10296\wps10.jpg)型滤波电路，这种滤波电路的优点是：简单经济，能兼起限制浪涌电流的作用，滤波效果较好。其缺点是带负载能力差，滤波电路有功率损耗。它适合负载电流小，纹波系数小的场合。

(c)所示为 ![img](file:///C:\Users\53055\AppData\Local\Temp\ksohtml10296\wps11.jpg)倒 L 型滤波电路，整流后输出的脉动直流经过电感，交流成分被削弱，再经过 C 滤波后，可在负载上获得更加平滑的直流电压。这种滤波电路的优点是：滤波效果好，几乎没有直流损耗。其缺点是低频时电感体积大，成本高。



###### 方案三：电容滤波:ballot_box_with_check:

![mark](http://mally.oss-cn-qingdao.aliyuncs.com/PicGo上传的图片/20200712/155437122.png)



**原理**:上图 为单相桥式整流电容滤波电路。利用电容的储能特性，使波形平滑，提高直流分量，减小输出波纹，

**优点**：简单易行，UO（AV）高，C 足够大时交流分量较小。**缺点**：不适于大电流负载。

**电容滤波的特点：**

1. 加入滤波电容后，输出电压的直流成分提高，脉动成分减小。

2. 电容滤波放电时间常数 $\tau=(R_LC)$ 越大，放电过程越慢，输出直流电压越高，纹波越小，效果越好,但是导通角$\theta$会越小，使得越难以选择二极管。为了获得较好的滤波效果，一般选择电容值满足$R_LC \geq(3$ ~ $5)\frac{T}{2}$ ，此时，输出电压的平均值$U_o=1.2U_2$ ，电容的耐压值应该大于$1.1\sqrt{2}U_2$

3. 电容滤波电路的输出电压随输出电流的增大而减小，所以电容滤波适合于负载电流变化不大的场合。

   

**选择理由：**综合考虑，由于在小功率电源中电容滤波最为常见，满足本设计要求，故选择方案三。



#### 稳压电路

###### 方案一： 基本串联型稳压电源

也就是具有放大环节的串联型稳压电源

![mark](http://mally.oss-cn-qingdao.aliyuncs.com/PicGo上传的图片/20200712/164258003.png)

**稳压原理**:	$若由于某种原因使U_O增大，则U_O↑→ U_N↑→ U_B↓→ U_O↓$

**特点：**

* $$
  \frac{R_1+R_2+R_3}{R_2+R_3}U_2\leq U_O \leq \frac{R_1+R_2+R_3}{R_3}U_2, \,\,U_2是稳压二极管提供的基准电压
  $$

  

* $$
  I_{Emax}＝I_{R1}＋I_{Lmax}≈ I_{Lmax}< I_{CM}\\
  U_{CEmax}＝U_{Imax}－ U_{Omin} < U_{(BR)CEO}\\  
  P_{Tmax}＝ I_{Emax} U_{CEmax} < P_{CM}\\
  $$

  

**落选原因：**找不到合适的稳压二极管提供要求的基准电压, 并且该电路只是理论电路，并不实用

 

###### 方案二：固定式三端集成稳压器:ballot_box_with_check:

<img src="http://mally.oss-cn-qingdao.aliyuncs.com/PicGo上传的图片/20200712/172606568.png" alt="mark" style="zoom: 67%;" />

> 常见的有 CW78（LM78）系列三端固定式正电压输出集成稳压器； CW79 （ LM79 ）系列三端固定式负电压输出集成稳压器。三端是指稳压电路只有输入、输出和接地三个接地端子。型号中最后两位数字表示输出电压的稳定值，有 5V 、 6V 、 9V 、 15V 、 18V 和 24V 。稳压器使用时，要求输入电压 UI 与输出电压 Uo 的电压差 UI - Uo ≥ 2V 。稳压器的静态电流 Io = 8mA 。当 Uo = 5 ～ 18V 时， UI 的最大值 UImax= 35V ；当 Uo=18 ～ 24V 时， UI 的最大值 UImax = 40V 。 



**选择原因**:用 LM7815系列三端稳压 IC 来组成稳压电路所需的外围元件极少，电路内部还有过流、过热及调整管的保护电路，使用起来可靠、方便，而且价格便宜。因此我们使用LM7805CT 得到5V电压，为计数器供电



###### 方案三：可调式三端集成稳压器:ballot_box_with_check:



==注意==：由于multisim的ADC转换芯片遇到变化微小且变化的频率高时，multisim仿真会失败。所以可调式三端集成稳压器不适合的稳压源输出电压不适合加在ADC转换器上。

**原理**：在输出端加一个电位器后，通过调节电位器的电阻变化使输出的电压能够在0-15V之间变化，从而能通过调节滑动变阻器得到12.8V

**选择原因**：选用可调节的原因是为了方便 调整步进电源需要的电压。







### LED显示电路和 直流电压步进电路



$按键触发一个上升沿信号  \Rightarrow 计数器加1 \,\, \Rightarrow
\begin{cases}
 BCD数码管显示数字  \\
DAC转换器\Rightarrow 输出模拟电压
\end{cases}
$ 



**原理图**

![image-20200712204759666](C:%5CUsers%5C53055%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200712204759666.png)



电路设计原理：

1. 按键按下给计数器一个上升沿信号，如果是S1按下，就是加1，如果是S2按下就是减1.
2. 选用2个十进制计数器，输出的数分别连到两个BCD数码管上。
3. 模拟电压的输出数值 $U=VDC1转换的模拟电压+VDC2转换的模拟电压*10 $
4. 2个十进制计数器上的数乘上2，输入到DAC中，使得每按一次按键，VDC上的总数加上（或减去2），12.8V/256*2=0.1V,由此实现精度为0.1
5. 电压跟随器之后电路的输出阻抗无限小，提升带载能力。





#### LED显示电路

<img src="C:%5CUsers%5C53055%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200712210815757.png" alt="image-20200712210815757" style="zoom: 80%;" />



设计考虑

1. 按钮：multisim中按钮是“PUSH_BUTTON_DPST”，但是4个引脚使连接量增加，电路不美观，因此用switch替代。  
2. 计数器：multisim中的计数器能实现加减的有74HC192和74HC193, 74HC192单时钟足够满足，选用它。
3. LED显示：计数范围为0-100，74HC192是4位，必须用2个计数器，而用BCD码的数码管四根线正好相连，电路清晰



#### 直流电压步进电路

![image-20200712212345274](C:%5CUsers%5C53055%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200712212345274.png)



原理：

1. 记   u1为计数器1的数，u2为计数器2的数，a1为VDC1读取的数据量，a2为VDC2读取的数据量，u1为VDC1输出的模拟量，u2为VDC2输出的模拟量，u为最终输出模拟量。

$$
a1=u1 * 2  ,a2=u2 *2,u=a1+a2*10\\
因此u=a1+a2*10=(u1+u2*2)*2
$$

​     因为选用的DAC为8位，故而分度值为 $12.8/2^8=0.05V$, 由上式得 计数值加1，u增加0.1V

2. 利用同相求和运算电路

![image-20200712214256643](C:%5CUsers%5C53055%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200712214256643.png)



![image-20200712215512135](C:%5CUsers%5C53055%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200712215512135.png)

​	代入公式计算得. R1取900Ω，R2取100Ω，R取100Ω，Rf取1900Ω，R4取100Ω.



3. 电压跟随器：将输出全部作为反馈加到反向端，加上电压跟随器之后电路的输出阻抗无限小，带载能力提升。






















